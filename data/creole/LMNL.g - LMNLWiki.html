<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0083)http://web.archive.org/web/20090105221058/http://www.lmnl.org/wiki/index.php/LMNL.g -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" src="./LMNL.g - LMNLWiki_files/analytics.js.download" charset="utf-8"></script>

<script type="text/javascript">archive_analytics.values.service='wb';archive_analytics.values.server_name='wwwb-app42.us.archive.org';archive_analytics.values.server_ms=285;</script><script type="text/javascript" src="./LMNL.g - LMNLWiki_files/wbhack.js.download" charset="utf-8"></script>

<script type="text/javascript">
__wbhack.init('http://web.archive.org/web');
</script>
<link rel="stylesheet" type="text/css" href="./LMNL.g - LMNLWiki_files/banner-styles.css">
<link rel="stylesheet" type="text/css" href="./LMNL.g - LMNLWiki_files/iconochive.css">

<!-- End Wayback Rewrite JS Include -->
    
    <meta name="KEYWORDS" content="LMNL.g">
<meta name="robots" content="index,follow">
<link rel="shortcut icon" href="http://web.archive.org/web/20090105221058im_/http://www.lmnl.org/favicon.ico">
    <title>LMNL.g - LMNLWiki</title>
    <style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/web/20090105221058cs_/http://www.lmnl.org/wiki/skins/monobook/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="./LMNL.g - LMNLWiki_files/commonPrint.css">
    <!--[if lt IE 5.5000]><style type="text/css">@import "/wiki/skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "/wiki/skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if gte IE 6]><style type="text/css">@import "/wiki/skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if lt IE 7]><script type="text/javascript" src="/wiki/skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="./LMNL.g - LMNLWiki_files/index.php"></script><style type="text/css">:root #content > #right > .dose > .dosesingle,
:root #content > #center > .dose > .dosesingle,
:root #header + #content > #left > #rlblock_left
{display:none !important;}</style>    <script type="text/javascript" src="./LMNL.g - LMNLWiki_files/wikibits.js.download"></script>
    <style type="text/css">/*<![CDATA[*/
@import "/web/20090105221058cs_/http://www.lmnl.org/wiki/index.php?title=MediaWiki:Monobook.css&action=raw&ctype=text/css&smaxage=18000";
@import "/web/20090105221058cs_/http://www.lmnl.org/wiki/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>              <style id="holderjs-style" type="text/css"></style></head>
  <body class="ns-0 __plain_text_READY__"><div id="wm-ipp" lang="en" style="display: block; direction: ltr;">
<div style="position:fixed;left:0;top:0;right:0;">
<div id="wm-ipp-inside">
  <div style="position:relative;">
    <div id="wm-logo" style="float:left;width:130px;padding-top:10px;">
      <a href="http://web.archive.org/web/" title="Wayback Machine home page"><img src="./LMNL.g - LMNLWiki_files/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"></a>
    </div>
    <div class="r" style="float:right;">
      <div id="wm-btns" style="text-align:right;height:25px;">
                  <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a href="http://web.archive.org/web/20090105221058/http://www.lmnl.org/wiki/index.php/LMNL.g#" onclick="__wm.saveSnapshot(&#39;http://www.lmnl.org/wiki/index.php/LMNL.g&#39;, &#39;20090105221058&#39;)" title="Save to My Web Archive" id="wm-save-snapshot-open">
            <span class="iconochive-web"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
        	<a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	<a id="wm-tb-close" href="http://web.archive.org/web/20090105221058/http://www.lmnl.org/wiki/index.php/LMNL.g#close" onclick="__wm.h(event);return false;" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share" style="text-align:right;">
	<a href="http://web.archive.org/web/20090105221058/http://www.lmnl.org/wiki/index.php/LMNL.g#" onclick="window.open(&#39;https://www.facebook.com/sharer/sharer.php?u=http://web.archive.org/web/20090105221058/http://www.lmnl.org/wiki/index.php/LMNL.g&#39;, &#39;&#39;, &#39;height=400,width=600&#39;); return false;" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	<a href="http://web.archive.org/web/20090105221058/http://www.lmnl.org/wiki/index.php/LMNL.g#" onclick="window.open(&#39;https://twitter.com/intent/tweet?text=http://web.archive.org/web/20090105221058/http://www.lmnl.org/wiki/index.php/LMNL.g&amp;via=internetarchive&#39;, &#39;&#39;, &#39;height=400,width=600&#39;); return false;" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
    </div>
    <table class="c" style="">
      <tbody>
	<tr>
	  <td class="u" colspan="2">
	    <form target="_top" method="get" action="http://web.archive.org/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://www.lmnl.org/wiki/index.php/LMNL.g" onfocus="this.focus();this.select();" autocomplete="off"><input type="hidden" name="type" value="replay"><input type="hidden" name="date" value="20090105221058"><input type="submit" value="Go"></form>
	  </td>
	  <td class="n" rowspan="2" style="width:110px;">
	    <table>
	      <tbody>
		<!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
		<tr class="m">
		  <td class="b" nowrap="nowrap">Dec</td>
		  <td class="c" id="displayMonthEl" title="You are here: 22:10:58 Jan 05, 2009">JAN</td>
		  <td class="f" nowrap="nowrap">Feb</td>
		</tr>
		<!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
		<tr class="d">
		  <td class="b" nowrap="nowrap"><img src="./LMNL.g - LMNLWiki_files/wm_tb_prv_off.png" alt="Previous capture" width="14" height="16" border="0"></td>
		  <td class="c" id="displayDayEl" style="width:34px;font-size:24px;white-space:nowrap;" title="You are here: 22:10:58 Jan 05, 2009">05</td>
		  <td class="f" nowrap="nowrap"><img src="./LMNL.g - LMNLWiki_files/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"></td>
		</tr>
		<!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
		<tr class="y">
		  <td class="b" nowrap="nowrap">2008</td>
		  <td class="c" id="displayYearEl" title="You are here: 22:10:58 Jan 05, 2009">2009</td>
		  <td class="f" nowrap="nowrap">2010</td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
	<tr>
	  <td class="s">
	    	    <div id="wm-nav-captures"><a class="t" href="http://web.archive.org/web/*/http://www.lmnl.org/wiki/index.php/LMNL.g" title="See a list of every capture for this URL">1 capture</a><div class="r" title="Timespan for captures of this URL">5 Jan 2009</div></div>
	  </td>
	  <td class="k">
	    <a href="http://web.archive.org/web/20090105221058/http://www.lmnl.org/wiki/index.php/LMNL.g" id="wm-graph-anchor">
	      <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
		<canvas id="wm-sparkline-canvas" width="550" height="27" border="0"></canvas>
	      <div class="yt" style="display: none; width: 25px; height: 27px;"></div><div class="mt" style="display: none; width: 2px; height: 27px;"></div></div>
	    </a>
	  </td>
	</tr>
      </tbody>
    </table>
    <div style="position:absolute;bottom:0;right:2px;text-align:right;">
      <a id="wm-expand" class="wm-btn wm-closed" href="http://web.archive.org/web/20090105221058/http://www.lmnl.org/wiki/index.php/LMNL.g#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span style="font-size:80%">About this capture</span></a>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
            <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/commoncrawl)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/commoncrawl" target="_new"><span class="wm-title">Common Crawl</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Web crawl data from Common Crawl.
	</div>
	      </div>
    </div>
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="./LMNL.g - LMNLWiki_files/loading.gif" alt="loading"></div>
    </div>
  </div></div></div></div><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script type="text/javascript" src="./LMNL.g - LMNLWiki_files/timestamp.js.download" charset="utf-8"></script>
<script type="text/javascript" src="./LMNL.g - LMNLWiki_files/graph-calc.js.download" charset="utf-8"></script>
<script type="text/javascript" src="./LMNL.g - LMNLWiki_files/auto-complete.js.download" charset="utf-8"></script>
<script type="text/javascript" src="./LMNL.g - LMNLWiki_files/toolbar.js.download" charset="utf-8"></script>

<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
.wb-autocomplete-suggestions {
    text-align: left; cursor: default; border: 1px solid #ccc; border-top: 0; background: #fff; box-shadow: -1px 1px 3px rgba(0,0,0,.1);
    position: absolute; display: none; z-index: 2147483647; max-height: 254px; overflow: hidden; overflow-y: auto; box-sizing: border-box;
}
.wb-autocomplete-suggestion { position: relative; padding: 0 .6em; line-height: 23px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1.02em; color: #333; }
.wb-autocomplete-suggestion b { font-weight: bold; }
.wb-autocomplete-suggestion.selected { background: #f0f0f0; }
</style>
<script type="text/javascript">
__wm.bt(550,27,25,2,"web","http://www.lmnl.org/wiki/index.php/LMNL.g","2009-01-05",1996);
</script><div class="wb-autocomplete-suggestions "></div>
<!-- END WAYBACK TOOLBAR INSERT -->
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="top"></a>
	  	  <h1 class="firstHeading">LMNL.g</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From LMNLWiki</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p>(back to the LMNL Parser Experiment page <a href="http://web.archive.org/web/20090105221058/http://www.lmnl.org/wiki/index.php/LMNL_Parser_Experiment" title="LMNL Parser Experiment">LMNL Parser Experiment</a>)
</p>
<pre>grammar LMNL;

options {
	backtrack = true&nbsp;; // this fixes numerous non LL(*) recursive rule problems, plus warnings about multiple independant matches.
	language = Python&nbsp;; // comment this out - defaults to Java.
}

lmnlDocument
	:	prolog content EOF
	;

prolog	:	lmnlDeclaration? misc*
	;
	
lmnlDeclaration
	:	WS? LEFT_SQUARE_BRACKET '!lmnl' versionInfo encodingDecl? WS? RIGHT_SQUARE_BRACKET // allow optional whitespace right at start?
	;

versionInfo
	:	WS 'version' Eq QUOTE versionNum QUOTE
	;

versionNum
	:	VERSION_NUM
	;
	
encodingDecl
	:	WS 'encoding' Eq QUOTE encName QUOTE
	;
	
encName	
	:	ENCODING_NAME
	;

fragment misc	
	:	nsDeclaration
	|	comment
	|	WS
	;

nsDeclaration
	:	LEFT_SQUARE_BRACKET '!ns' WS (prefix Eq)? uriLiteral WS? RIGHT_SQUARE_BRACKET
	;

comment	
	:	START_COMMENT commentText END_COMMENT
	;
	
commentText
	:	(COMMENT_CHAR ~END_COMMENT)*
	;
	
content	
	:	(	charData
	|		markup		)*
	;
	
charData	
	:	CHARDATA
	;

fragment markup	
	:	tag
	|	atom
	|	nsDeclaration
	|	comment
	;
	
fragment tag
	:	startTag
	|	endTag
	|	emptyTag
	;
	
// DEBUG NOTES:
// running with CharData in annotation:
// including annotation in metadata causes fatal non LL(*) recursion - resolve by left factoring, syntactic predicates, etc.
// but does not if annotations cannot themselves contain metadata.
// Can include metadata in Annotation tag if Empty Tag does not exist.
// Clearly can match empty tag + metadata - get multiple alternative matches:
// startTag and emptyTag.
// OPEN_START_TAG NAME OPEN_START_TAG NAME
// [FIRST[SECOND 
// Putting all else (still with CharData in annotation) back as it should be (metadata include)
// Now having emptyTag causes non-LL* recursive rule invocations, and we get multiple alternative matches.
// backtrack = true seems to solve all these issues.

startTag
	:	openStartTag tagContent closeStartTag 
	;

endTag	:	openEndTag tagContent closeEndTag 
	;
	
emptyTag
	:	openStartTag tagContent closeEndTag
	;

fragment tagContent
	:	tagName? (Eq tagIdentifier)? metaData* // should tag name be optional? not quite as in original lmnl spec.
	;
	
fragment atom
	:	namedAtom
	|	unicodeAtom
	|	shortAtom
	;

namedAtom
	:	openAtom atomName? metaData* closeAtom // should atom name be optional?
	;
	
unicodeAtom
	:	openAtom NUMBER_SIGN HEX_INDICATOR codePoint closeAtom
	;
	
shortAtom
	:	openAtom NUMBER_SIGN shortHand closeAtom
	;

fragment metaData
	:	annotation 	
	|	misc		
	;

annotation
	:	( annotationStartTag content annotationEndTa</pre></div></div></div></div></body></html>